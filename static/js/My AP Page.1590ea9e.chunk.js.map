{"version":3,"file":"static/js/My AP Page.1590ea9e.chunk.js","mappings":"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","sources":["pages/MyAP/My Platform/MyPlatform.styled.js","pages/MyAP/My Platform/MyPlatform.jsx","pages/MyAP/LessonFinder/LessonFinder.styled.js","pages/MyAP/LessonFinder/LessonFinder.jsx","pages/MyAP/MyAP.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MyPlatformBox = styled.div`\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n`;","import { MyPlatformBox } from './MyPlatform.styled';\n\nexport const MyPlatform = () => {\n  return (\n    <>\n      <MyPlatformBox>\n        <iframe\n          id=\"platform-window\"\n          title=\"platform-pin\"\n          src=\"https://online.ap.education/school/\"\n          width=\"100%\"\n          height=\"100%\"\n        ></iframe>\n      </MyPlatformBox>\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const FinderInput = styled.input`\n  height: 65px;\n  width: 500px;\n\n  overflow: hidden;\n\n  background-color: transparent;\n  position: absolute;\n  z-index: 2;\n\n  font-family: var(--streams-font-family);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n`;\n\nexport const FinderLessons = styled.div`\n  height: 650px;\n  width: 500px;\n\n  overflow-y: scroll;\n\n  background-color: #fff;\n  position: absolute;\n  top: 65px;\n  z-index: 2;\n`;\n\nexport const LessonBox = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nexport const LessonBoxItem = styled.li`\n  color: #000;\n`;\n\nexport const LessonValuesList = styled.ul`\n  display: flex;\n  gap: 4px;\n`;\n\nexport const LessonValuesItem = styled.li`\n\n`","import React, { useState } from 'react';\nimport {\n  FinderInput,\n  FinderLessons,\n  LessonBox,\n  LessonBoxItem,\n  LessonValuesItem,\n  LessonValuesList,\n} from './LessonFinder.styled';\n\nexport const LessonFinder = ({ lessons }) => {\n  const [lessonsFound, setLessonsFound] = useState([...lessons]);\n\n  const findLesson = e => {\n    const value = e.target.value;\n    console.log(lessonsFound);\n    value !== ''\n      ? setLessonsFound(lessonsFound => [\n          ...lessons.filter(\n            lesson =>\n              lesson.keysEn.toLowerCase().includes(value) ||\n              lesson.keysUa.toLowerCase().includes(value)\n          ),\n        ])\n      : setLessonsFound(lessonsFound => [...lessons]);\n  };\n\n  return (\n    <>\n      <FinderInput onChange={findLesson} />\n      <FinderLessons>\n        <LessonBox>\n          {lessonsFound.map(lesson => (\n            <LessonBoxItem key={lesson._id}>\n              <LessonValuesList>\n                <LessonValuesItem>{lesson.level}</LessonValuesItem>\n                <LessonValuesItem>{lesson.lesson}</LessonValuesItem>\n                <LessonValuesItem>{lesson.topic}</LessonValuesItem>\n                {/* {lesson.video}\n              {lesson.pdf} */}\n              </LessonValuesList>\n            </LessonBoxItem>\n          ))}\n        </LessonBox>\n      </FinderLessons>\n    </>\n  );\n};\n","import axios from 'axios';\nimport { Label } from 'components/LeadForm/LeadForm.styled';\nimport {\n  StreamPlaceHolderText,\n  StreamSection,\n} from 'components/Stream/Stream.styled';\nimport { Formik } from 'formik';\nimport {\n  AdminFormBtn,\n  AdminInput,\n  AdminInputNote,\n  LoginForm,\n} from 'pages/Streams/AdminPanel/AdminPanel.styled';\nimport { useEffect, useState } from 'react';\nimport * as yup from 'yup';\nimport { MyPlatform } from './My Platform/MyPlatform';\nimport { LessonFinder } from './LessonFinder/LessonFinder';\n\nconst MyAP = () => {\n  const [isUserLogged, setIsUserLogged] = useState(false);\n  const [lessons, setLessons] = useState(false);\n  axios.defaults.baseURL = 'https://aggregator-server.onrender.com';\n\n  useEffect(() => {\n    document.title = 'My AP | AP Education';\n\n    const getLessons = async () => {\n      console.log('lessons getter');\n      try {\n        const res = await axios.get('/lessons');\n        console.log(res);\n        setLessons(lessons => (lessons = [...res.data]));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getLessons();\n\n    const refreshToken = async () => {\n      console.log('token refresher');\n      try {\n        const res = await axios.post('/users/refresh', {\n          mail: localStorage.getItem('mail'),\n        });\n        setIsUserLogged(isLogged => (isLogged = true));\n        console.log(res);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    refreshToken();\n  }, []);\n\n  const setAuthToken = token => {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  };\n\n  const initialLoginValues = {\n    mail: '',\n    password: '',\n  };\n\n  const loginSchema = yup.object().shape({\n    mail: yup\n      .string()\n      .required('Вкажіть пошту, за якою ви зареєстровані на нашій платформі!'),\n    password: yup\n      .string()\n      .required(\n        'Введіть пароль, який ви використовуєте для входу на нашу платформу!'\n      ),\n  });\n\n  const handleLoginSubmit = async (values, { resetForm }) => {\n    console.log(isUserLogged);\n    try {\n      const response = await axios.post('/users/login', values);\n      console.log(values);\n      console.log(response);\n      setAuthToken(response.data.token);\n      setIsUserLogged(isLogged => (isLogged = true));\n      localStorage.setItem('mail', values.mail);\n      resetForm();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <StreamSection>\n      {!isUserLogged ? (\n        <Formik\n          initialValues={initialLoginValues}\n          onSubmit={handleLoginSubmit}\n          validationSchema={loginSchema}\n        >\n          <LoginForm>\n            <StreamPlaceHolderText>\n              Привіт! Ця сторінка недоступна для неавторизованих користувачів.\n              Але якщо ви маєте доступ до нашої платформи, то й до цієї сторінки\n              теж. Введіть дані, які ви використовуєте для входу на платформу.\n            </StreamPlaceHolderText>\n            <Label>\n              <AdminInput type=\"text\" name=\"mail\" placeholder=\"Login\" />\n              <AdminInputNote component=\"p\" name=\"mail\" type=\"email\" />\n            </Label>\n            <Label>\n              <AdminInput\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n              />\n              <AdminInputNote component=\"p\" name=\"password\" />\n            </Label>\n            <AdminFormBtn type=\"submit\">Увійти</AdminFormBtn>\n          </LoginForm>\n        </Formik>\n      ) : (\n        <>\n          <LessonFinder lessons={lessons} />\n          <MyPlatform />\n\n        </>\n      )}\n    </StreamSection>\n  );\n};\n\nexport default MyAP;\n"],"names":["MyPlatformBox","styled","_templateObject","_taggedTemplateLiteral","MyPlatform","_jsx","_Fragment","children","id","title","src","width","height","FinderInput","FinderLessons","_templateObject2","LessonBox","_templateObject3","LessonBoxItem","_templateObject4","LessonValuesList","_templateObject5","LessonValuesItem","_templateObject6","LessonFinder","_ref","lessons","_useState","useState","_toConsumableArray","_useState2","_slicedToArray","lessonsFound","setLessonsFound","_jsxs","onChange","e","value","target","console","log","filter","lesson","keysEn","toLowerCase","includes","keysUa","map","level","topic","_id","isUserLogged","setIsUserLogged","_useState3","_useState4","setLessons","axios","useEffect","document","getLessons","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","sent","data","t0","stop","apply","arguments","refreshToken","_ref2","_callee2","_context2","mail","localStorage","getItem","isLogged","loginSchema","yup","shape","required","password","handleLoginSubmit","_ref4","_callee3","values","_ref3","resetForm","response","_context3","token","concat","setItem","error","_x","_x2","StreamSection","Formik","initialValues","onSubmit","validationSchema","LoginForm","StreamPlaceHolderText","Label","AdminInput","type","name","placeholder","AdminInputNote","component","AdminFormBtn"],"sourceRoot":""}