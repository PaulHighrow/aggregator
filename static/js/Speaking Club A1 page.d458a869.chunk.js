"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[618],{1140:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(1488),n=s(5294),c=s(2605),o=s(8313),r=s(610),l=s(1679),i=s(5984),d=s(2791),u=s(6710),h=s(1608),m=s(9901),x=s(5070),g=s(616),p=s(184);n.Z.defaults.baseURL="https://aggregator-server.onrender.com";const j=()=>{const[e,t]=(0,d.useState)(!1),[s,j]=(0,d.useState)(!1),[y,S]=(0,d.useState)(!1),[f,b]=(0,d.useState)(""),[w,C]=(0,d.useState)(!1),[k,v]=(0,d.useState)(""),_=(0,d.useRef)(),[D,N]=(0,a.Z)(_),[I,O]=(0,a.Z)(document.body),[Z,R]=(0,d.useState)(!1),[q,z]=(0,d.useState)({}),[L,F]=(0,d.useState)(""),[A,E]=(0,d.useState)(""),[K,W]=(0,d.useState)(!1),[P,Y]=(0,d.useState)([]);(0,d.useLayoutEffect)((()=>{(async()=>{try{const e=await n.Z.get("/");console.log(e.data)}catch(e){console.log(e)}})();(async()=>{try{R((e=>!0)),z((await n.Z.get("/links")).data)}catch(e){console.log(e)}finally{R((e=>!1))}})()}),[]);const B=t=>{j((e=>!e)),b(e||y?e=>"kahoot":e=>"")},Q=0===D&&I>O?I-300:I-D,U=e=>{e.preventDefault();const t=(0,i.x0)(8);E((e=>t)),localStorage.setItem("userName",L.trim()),localStorage.setItem("userID",t),W((e=>!e))},V=(0,d.useRef)(null);return(0,d.useEffect)((()=>{document.title="A1 Speaking Club | AP Education",V.current=(0,h.io)("https://ap-chat.onrender.com/"),(e=>{const t=localStorage.getItem("userName");localStorage.getItem("userID")&&t&&W((e=>!0))})(),V.current.on("connected",((e,t)=>{console.log(e),console.log(t)}));return(async()=>{try{const e=(await n.Z.get("https://ap-chat.onrender.com/messages")).data.filter((e=>new Date(e.createdAt).getDate()===(new Date).getDate()));Y((t=>e))}catch(e){console.log(e)}})(),V.current.on("message",(async e=>{await(async()=>{try{await n.Z.post("https://ap-chat.onrender.com/messages",e),Y((t=>[...t,e]))}catch(t){console.log(t)}})()})),V.current.on("message:get",(async e=>{Y((t=>[...t,e]))})),()=>{V.current.off("connected"),V.current.off("message"),V.current.disconnect()}}),[]),(0,p.jsx)(p.Fragment,{children:(void 0===q.trials_de||q.trials_de[0]<10)&&!Z?(0,p.jsx)(g.r,{children:(0,p.jsxs)(g.Rq,{children:["\u041f\u043e\u043a\u0438 \u0449\u043e \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0456\u0457 \u0442\u0443\u0442 \u043d\u0435\u043c\u0430\u0454! ",(0,p.jsx)("br",{}),"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0447\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0430\u0431\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435."]})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g.QU,{style:{width:e&&I>O?"".concat(Q,"px"):"100%"},children:(0,p.jsxs)(c.C,{children:[Z&&(0,p.jsx)(r.s,{children:(0,p.jsx)(o.a,{})}),(0,p.jsxs)(g.c6,{children:[(0,p.jsx)(g.i1,{}),(0,p.jsx)(g.tW,{}),(0,p.jsx)(g.Rs,{className:w&&"sound"===k||w&&"live"===k?"animated":"",children:(0,p.jsx)(g.CO,{className:w&&"sound"===k||w&&"live"===k?"animated":""})}),(0,p.jsx)(g.$D,{className:w&&"quality"===k?"animated":"",children:(0,p.jsx)(g.hY,{className:w&&"quality"===k?"animated":""})}),(0,p.jsx)(u.Z,{playing:!0,muted:!0,controls:!0,config:{youtube:{playerVars:{rel:0}}},style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100vh",url:q.trials_de})]}),(0,p.jsxs)(g.KN,{children:[(0,p.jsx)(g.kd,{onClick:B,className:w&&"kahoot_open"===k?"animated":"",children:(0,p.jsx)(g.ev,{})}),(0,p.jsx)(g.Ms,{onClick:()=>{t((e=>!e)),b(s||y?e=>"chat":e=>"")},className:w&&"chat_open"===k?"animated":"",children:(0,p.jsx)(g.DS,{})}),(0,p.jsx)(g.wH,{onClick:()=>{S((e=>!e)),v(""),b(s||e?e=>"support":e=>"")},children:(0,p.jsx)(g.RB,{})})]}),!q.trials_de||q.trials_de.includes("youtube")||q.trials_de.includes("youtu.be")?null:window.location.replace("https://us06web.zoom.us/j/82704231222?pwd=v2VgjZhzQvDg3g5XEq8KBNrI7GbOqq.1#success"),O>I&&(0,p.jsx)(g.rW,{ref:_,className:e?"shown":"hidden",style:"chat"===f?{zIndex:"2"}:{zIndex:"1"},children:K?(0,p.jsx)(m.e,{socket:V.current,messages:P,isChatOpen:e}):(0,p.jsxs)(x._Y,{onSubmit:U,children:[(0,p.jsx)(x.mD,{children:"AP Open Chat"}),(0,p.jsx)(x.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,p.jsx)(x._8,{type:"text",minLength:3,name:"username",id:"username",value:L,onChange:e=>F(e.target.value)}),(0,p.jsx)(x.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})}),(0,p.jsx)(l.B,{sectionWidth:I,isSupportOpen:y,isOpenedLast:f,handleSupport:e=>{v((t=>e)),w||C((e=>!e))},openKahoot:B,isKahootOpen:s})]})}),I>=O&&(0,p.jsx)(g.rW,{ref:_,className:e?"shown":"hidden",style:"chat"===f?{zIndex:"2"}:{zIndex:"1"},children:K?(0,p.jsx)(m.e,{socket:V.current,messages:P,isChatOpen:e}):(0,p.jsxs)(x._Y,{onSubmit:U,children:[(0,p.jsx)(x.mD,{children:"AP Open Chat"}),(0,p.jsx)(x.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,p.jsx)(x._8,{type:"text",minLength:3,name:"username",id:"username",value:L,onChange:e=>F(e.target.value)}),(0,p.jsx)(x.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})})]})})}},4869:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(1488),n=s(5294),c=s(2605),o=s(8313),r=s(610),l=s(9527),i=s(1679),d=s(5984),u=s(2791),h=s(6710),m=s(1608),x=s(9901),g=s(5070),p=s(616),j=s(184);n.Z.defaults.baseURL="https://aggregator-server.onrender.com";const y=()=>{const[e,t]=(0,u.useState)(!1),[s,y]=(0,u.useState)(!1),[S,f]=(0,u.useState)(!1),[b,w]=(0,u.useState)(""),[C,k]=(0,u.useState)(!1),[v,_]=(0,u.useState)(""),D=(0,u.useRef)(),[N,I]=(0,a.Z)(D),[O,Z]=(0,a.Z)(document.body),[R,q]=(0,u.useState)(!1),[z,L]=(0,u.useState)({}),[F,A]=(0,u.useState)(""),[E,K]=(0,u.useState)(""),[W,P]=(0,u.useState)(!1),[Y,B]=(0,u.useState)([]);(0,u.useLayoutEffect)((()=>{(async()=>{try{const e=await n.Z.get("/");console.log(e.data)}catch(e){console.log(e)}})();(async()=>{try{q((e=>!0)),L((await n.Z.get("/links")).data)}catch(e){console.log(e)}finally{q((e=>!1))}})()}),[]);const Q=t=>{y((e=>!e)),w(e||S?e=>"kahoot":e=>"")},U=0===N&&O>Z?O-300:O-N,V=e=>{e.preventDefault();const t=(0,d.x0)(8);K((e=>t)),localStorage.setItem("userName",F.trim()),localStorage.setItem("userID",t),P((e=>!e))},H=(0,u.useRef)(null);return(0,u.useEffect)((()=>{document.title="B1 Speaking Club | AP Education",H.current=(0,m.io)("https://ap-chat.onrender.com/"),(e=>{const t=localStorage.getItem("userName");localStorage.getItem("userID")&&t&&P((e=>!0))})(),H.current.on("connected",((e,t)=>{console.log(e),console.log(t)}));return(async()=>{try{const e=(await n.Z.get("https://ap-chat.onrender.com/messages")).data.filter((e=>new Date(e.createdAt).getDate()===(new Date).getDate()));B((t=>e))}catch(e){console.log(e)}})(),H.current.on("message",(async e=>{await(async()=>{try{await n.Z.post("https://ap-chat.onrender.com/messages",e),B((t=>[...t,e]))}catch(t){console.log(t)}})()})),H.current.on("message:get",(async e=>{B((t=>[...t,e]))})),()=>{H.current.off("connected"),H.current.off("message"),H.current.disconnect()}}),[]),(0,j.jsx)(j.Fragment,{children:(void 0===z.trials_de||z.trials_de[0]<10)&&!R?(0,j.jsx)(p.r,{children:(0,j.jsxs)(p.Rq,{children:["\u041f\u043e\u043a\u0438 \u0449\u043e \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0456\u0457 \u0442\u0443\u0442 \u043d\u0435\u043c\u0430\u0454! ",(0,j.jsx)("br",{}),"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0447\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0430\u0431\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435."]})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.QU,{style:{width:e&&O>Z?"".concat(U,"px"):"100%"},children:(0,j.jsxs)(c.C,{children:[R&&(0,j.jsx)(r.s,{children:(0,j.jsx)(o.a,{})}),(0,j.jsxs)(p.c6,{children:[(0,j.jsx)(p.i1,{}),(0,j.jsx)(p.tW,{}),(0,j.jsx)(p.Rs,{className:C&&"sound"===v||C&&"live"===v?"animated":"",children:(0,j.jsx)(p.CO,{className:C&&"sound"===v||C&&"live"===v?"animated":""})}),(0,j.jsx)(p.$D,{className:C&&"quality"===v?"animated":"",children:(0,j.jsx)(p.hY,{className:C&&"quality"===v?"animated":""})}),(0,j.jsx)(h.Z,{playing:!0,muted:!0,controls:!0,config:{youtube:{playerVars:{rel:0}}},style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100vh",url:z.trials_de})]}),(0,j.jsxs)(p.KN,{children:[(0,j.jsx)(p.kd,{onClick:Q,className:C&&"kahoot_open"===v?"animated":"",children:(0,j.jsx)(p.ev,{})}),(0,j.jsx)(p.Ms,{onClick:()=>{t((e=>!e)),w(s||S?e=>"chat":e=>"")},className:C&&"chat_open"===v?"animated":"",children:(0,j.jsx)(p.DS,{})}),(0,j.jsx)(p.wH,{onClick:()=>{f((e=>!e)),_(""),w(s||e?e=>"support":e=>"")},children:(0,j.jsx)(p.RB,{})})]}),!z.trials_de||z.trials_de.includes("youtube")||z.trials_de.includes("youtu.be")?null:window.location.replace("https://us06web.zoom.us/j/87998399840?pwd=FJXK8UlERuqFy5QTEhwYPgpXqQbV7d.1#success"),Z>O&&(0,j.jsx)(p.rW,{ref:D,className:e?"shown":"hidden",style:"chat"===b?{zIndex:"2"}:{zIndex:"1"},children:W?(0,j.jsx)(x.e,{socket:H.current,messages:Y,isChatOpen:e}):(0,j.jsxs)(g._Y,{onSubmit:V,children:[(0,j.jsx)(g.mD,{children:"AP Open Chat"}),(0,j.jsx)(g.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,j.jsx)(g._8,{type:"text",minLength:3,name:"username",id:"username",value:F,onChange:e=>A(e.target.value)}),(0,j.jsx)(g.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})}),(0,j.jsx)(l.M,{sectionWidth:O,sectionHeight:Z,isKahootOpen:s,isChatOpen:e,isOpenedLast:b}),(0,j.jsx)(i.B,{sectionWidth:O,isSupportOpen:S,isOpenedLast:b,handleSupport:e=>{_((t=>e)),C||k((e=>!e))},openKahoot:Q,isKahootOpen:s})]})}),O>=Z&&(0,j.jsx)(p.rW,{ref:D,className:e?"shown":"hidden",style:"chat"===b?{zIndex:"2"}:{zIndex:"1"},children:W?(0,j.jsx)(x.e,{socket:H.current,messages:Y,isChatOpen:e}):(0,j.jsxs)(g._Y,{onSubmit:V,children:[(0,j.jsx)(g.mD,{children:"AP Open Chat"}),(0,j.jsx)(g.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,j.jsx)(g._8,{type:"text",minLength:3,name:"username",id:"username",value:F,onChange:e=>A(e.target.value)}),(0,j.jsx)(g.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})})]})})}}}]);
//# sourceMappingURL=Speaking Club A1 page.d458a869.chunk.js.map