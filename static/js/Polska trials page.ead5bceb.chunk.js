"use strict";(self.webpackChunkap_education_english=self.webpackChunkap_education_english||[]).push([[9],{4430:function(e,n,t){t.r(n);var r=t(3433),s=t(4165),a=t(5861),c=t(9439),u=t(1488),o=t(1243),i=t(7043),l=t(8313),h=t(610),p=t(9527),f=t(2791),d=t(6710),x=t(118),m=t(1679),v=t(2861),Z=t(3549),g=t(1608),j=t(5984),k=t(184);o.Z.defaults.baseURL="https://aggregator-server.onrender.com";n.default=function(){var e=(0,f.useState)(!1),n=(0,c.Z)(e,2),t=n[0],y=n[1],w=(0,f.useState)(!1),S=(0,c.Z)(w,2),b=S[0],_=S[1],C=(0,f.useState)(!1),N=(0,c.Z)(C,2),O=N[0],I=N[1],D=(0,f.useState)(""),L=(0,c.Z)(D,2),R=L[0],W=L[1],z=(0,f.useState)(!1),F=(0,c.Z)(z,2),K=F[0],q=F[1],Y=(0,f.useState)(""),A=(0,c.Z)(Y,2),B=A[0],E=A[1],H=(0,f.useRef)(),M=(0,u.Z)(H),P=(0,c.Z)(M,2),U=P[0],Q=(P[1],(0,u.Z)(document.body)),V=(0,c.Z)(Q,2),$=V[0],G=V[1],J=(0,f.useState)(!1),T=(0,c.Z)(J,2),X=T[0],ee=T[1],ne=(0,f.useState)({}),te=(0,c.Z)(ne,2),re=te[0],se=te[1],ae=(0,f.useState)(""),ce=(0,c.Z)(ae,2),ue=ce[0],oe=ce[1],ie=(0,f.useState)(""),le=(0,c.Z)(ie,2),he=(le[0],le[1]),pe=(0,f.useState)(!1),fe=(0,c.Z)(pe,2),de=fe[0],xe=fe[1],me=(0,f.useState)([]),ve=(0,c.Z)(me,2),Ze=ve[0],ge=ve[1],je=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/");case 3:n=e.sent,console.log(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,f.useLayoutEffect)((function(){je();var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee((function(e){return!0})),e.t0=se,e.next=5,o.Z.get("/links");case 5:e.t1=e.sent.data,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.log(e.t2);case 12:return e.prev=12,ee((function(e){return!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var ke=function(e){_((function(e){return!e})),W(t||O?function(e){return"kahoot"}:function(e){return""})},ye=0===U&&$>G?$-300:$-U,we=function(e){e.preventDefault();var n=(0,j.x0)(8);he((function(e){return n})),localStorage.setItem("userName",ue),localStorage.setItem("userID",n),xe((function(e){return!e}))},Se=(0,f.useRef)(null);return(0,f.useEffect)((function(){Se.current=(0,g.io)("https://ap-chat.onrender.com/"),function(e){var n=localStorage.getItem("userName");localStorage.getItem("userID")&&n&&xe((function(e){return!0}))}(),Se.current.on("connected",(function(e,n){console.log(e),console.log(n)}));var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("https://ap-chat.onrender.com/messages");case 3:n=e.sent,ge((function(e){return n.data})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e(),Se.current.on("message",function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post("https://ap-chat.onrender.com/messages",n);case 3:ge((function(e){return[].concat((0,r.Z)(e),[n])})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.next=3,t();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Se.current.on("message:get",function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge((function(e){return[].concat((0,r.Z)(e),[n])}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),function(){Se.current.off("connected"),Se.current.off("message"),Se.current.disconnect()}}),[]),(0,k.jsx)(k.Fragment,{children:(void 0===re.trials_pl||re.trials_pl[0]<10)&&!X?(0,k.jsx)(x.r,{children:(0,k.jsxs)(x.Rq,{children:["\u041f\u043e\u043a\u0438 \u0449\u043e \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0456\u0457 \u0442\u0443\u0442 \u043d\u0435\u043c\u0430\u0454! ",(0,k.jsx)("br",{}),"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0447\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0438 \u0432\u043a\u0430\u0437\u0430\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0430\u0431\u043e \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435."]})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.QU,{style:{width:t&&$>G?"".concat(ye,"px"):"100%"},children:(0,k.jsxs)(i.C,{children:[X&&(0,k.jsx)(h.s,{children:(0,k.jsx)(l.a,{})}),(0,k.jsxs)(x.c6,{children:[(0,k.jsx)(x.i1,{}),(0,k.jsx)(x.tW,{}),(0,k.jsx)(x.Rs,{className:K&&"sound"===B||K&&"live"===B?"animated":"",children:(0,k.jsx)(x.CO,{className:K&&"sound"===B||K&&"live"===B?"animated":""})}),(0,k.jsx)(x.$D,{className:K&&"quality"===B?"animated":"",children:(0,k.jsx)(x.hY,{className:K&&"quality"===B?"animated":""})}),(0,k.jsx)(d.Z,{playing:!0,muted:!0,controls:!0,config:{youtube:{playerVars:{rel:0}}},style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100vh",url:re.trials_pl})]}),(0,k.jsxs)(x.KN,{children:[(0,k.jsx)(x.kd,{onClick:ke,className:K&&"kahoot_open"===B?"animated":"",children:(0,k.jsx)(x.ev,{})}),(0,k.jsx)(x.Ms,{onClick:function(){y((function(e){return!e})),W(b||O?function(e){return"chat"}:function(e){return""})},className:K&&"chat_open"===B?"animated":"",children:(0,k.jsx)(x.DS,{})}),(0,k.jsx)(x.wH,{onClick:function(){I((function(e){return!e})),E(""),W(b||t?function(e){return"support"}:function(e){return""})},children:(0,k.jsx)(x.RB,{})})]}),!re.trials_pl||re.trials_pl.includes("youtube")||re.trials_pl.includes("youtu.be")?null:window.location.replace(re.trials_pl),G>$&&(0,k.jsx)(x.rW,{ref:H,className:t?"shown":"hidden",style:"chat"===R?{zIndex:"2"}:{zIndex:"1"},children:de?(0,k.jsx)(Z.e,{socket:Se.current,messages:Ze,isChatOpen:t}):(0,k.jsxs)(v._Y,{onSubmit:we,children:[(0,k.jsx)(v.mD,{children:"AP Open Chat"}),(0,k.jsx)(v.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,k.jsx)(v._8,{type:"text",minLength:3,name:"username",id:"username",value:ue,onChange:function(e){return oe(e.target.value)}}),(0,k.jsx)(v.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})}),(0,k.jsx)(p.M,{sectionWidth:$,sectionHeight:G,isKahootOpen:b,isChatOpen:t,isOpenedLast:R}),(0,k.jsx)(m.B,{sectionWidth:$,isSupportOpen:O,isOpenedLast:R,handleSupport:function(e){E((function(n){return e})),K||q((function(e){return!e}))},openKahoot:ke,isKahootOpen:b})]})}),$>=G&&(0,k.jsx)(x.rW,{ref:H,className:t?"shown":"hidden",style:"chat"===R?{zIndex:"2"}:{zIndex:"1"},children:de?(0,k.jsx)(Z.e,{socket:Se.current,messages:Ze,isChatOpen:t}):(0,k.jsxs)(v._Y,{onSubmit:we,children:[(0,k.jsx)(v.mD,{children:"AP Open Chat"}),(0,k.jsx)(v.bt,{htmlFor:"username",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0456\u043c'\u044f \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e"}),(0,k.jsx)(v._8,{type:"text",minLength:3,name:"username",id:"username",value:ue,onChange:function(e){return oe(e.target.value)}}),(0,k.jsx)(v.bh,{children:"\u0413\u043e\u0442\u043e\u0432\u043e!"})]})})]})})}}}]);
//# sourceMappingURL=Polska trials page.ead5bceb.chunk.js.map