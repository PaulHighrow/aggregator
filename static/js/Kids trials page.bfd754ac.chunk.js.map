{"version":3,"file":"static/js/Kids trials page.bfd754ac.chunk.js","mappings":"qRA4BAA,EAAAA,EAAAA,SAAAA,QAAyB,yCAgOzB,UA9NwB,WACtB,IAAAC,GAAoCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5CI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAAwCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhDE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAA0CT,EAAAA,EAAAA,WAAS,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAlDE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GACtCG,GAAwCb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,GAAoCjB,EAAAA,EAAAA,WAAS,GAAMkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAA5CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAqCrB,EAAAA,EAAAA,UAAS,IAAGsB,GAAApB,EAAAA,EAAAA,GAAAmB,EAAA,GAA1CE,EAAUD,EAAA,GAAEE,EAAcF,EAAA,GAE3BG,GAAYC,EAAAA,EAAAA,UAClBC,GAAsCC,EAAAA,EAAAA,GAAQH,GAAUI,GAAA3B,EAAAA,EAAAA,GAAAyB,EAAA,GAAjDG,EAAYD,EAAA,GAAEE,EAAaF,EAAA,GAC5BG,GAASN,EAAAA,EAAAA,UAEfO,GAAgCL,EAAAA,EAAAA,GAAQI,GAAOE,GAAAhC,EAAAA,EAAAA,GAAA+B,EAAA,GAAxCE,EAASD,EAAA,GAEhBE,GAF4BF,EAAA,IAEJN,EAAAA,EAAAA,GAAQS,SAASC,OAAKC,GAAArC,EAAAA,EAAAA,GAAAkC,EAAA,GAAvCI,EAAKD,EAAA,GAAEE,EAAMF,EAAA,GACpBG,GAAkC1C,EAAAA,EAAAA,WAAS,GAAM2C,GAAAzC,EAAAA,EAAAA,GAAAwC,EAAA,GAA1CE,EAASD,EAAA,GAAEE,GAAYF,EAAA,GAC9BG,IAA0B9C,EAAAA,EAAAA,UAAS,CAAC,GAAE+C,IAAA7C,EAAAA,EAAAA,GAAA4C,GAAA,GAA/BE,GAAKD,GAAA,GAAEE,GAAQF,GAAA,GAEhBG,GAAa,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEC9D,EAAAA,EAAAA,IAAU,KAAK,KAAD,EAA3B0D,EAAIE,EAAAG,KACVC,QAAQC,IAAIP,EAAKQ,MAAMN,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEvBI,QAAQC,IAAGL,EAAAO,IAAQ,yBAAAP,EAAAQ,OAAA,GAAAX,EAAA,kBAEtB,kBAPkB,OAAAJ,EAAAgB,MAAA,KAAAC,UAAA,MASnBC,EAAAA,EAAAA,kBAAgB,WACdnB,KAEA,IAAMoB,EAAe,eAAAC,GAAAnB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAkB,IAAA,OAAAnB,EAAAA,EAAAA,KAAAI,MAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,OAGZ,OAHYa,EAAAd,KAAA,EAEpBd,IAAa,SAAAD,GAAS,OAAiB,CAAI,IAAG6B,EAAAR,GAC9ChB,GAAQwB,EAAAb,KAAA,EAAQ9D,EAAAA,EAAAA,IAAU,UAAS,OAAA2E,EAAAC,GAAAD,EAAAZ,KAAEG,MAAI,EAAAS,EAAAR,IAAAQ,EAAAC,IAAAD,EAAAb,KAAA,gBAAAa,EAAAd,KAAA,EAAAc,EAAAE,GAAAF,EAAA,SAEzCX,QAAQC,IAAGU,EAAAE,IAAQ,QAE4B,OAF5BF,EAAAd,KAAA,GAEnBd,IAAa,SAAAD,GAAS,OAAiB,CAAK,IAAG6B,EAAAG,OAAA,6BAAAH,EAAAP,OAAA,GAAAM,EAAA,wBAElD,kBAToB,OAAAD,EAAAJ,MAAA,KAAAC,UAAA,KAUrBE,GACF,GAAG,IAEH,IAAMO,GAAe,SAAAC,GACnBtE,GAAgB,SAAAD,GAAY,OAAKA,CAAY,IAEzCS,EADJb,GAAcQ,EACM,SAAAI,GAAY,MAAI,QAAQ,EACxB,SAAAA,GAAY,MAAI,EAAE,EACxC,EAoBMgE,GAAcC,OAAOC,SAASC,KAAKC,SAAS,aAC9C,YACAH,OAAOC,SAASC,KAEdE,GACU,IAAdjD,GAAmBK,EAAQC,EAASD,EAAQ,IAAMA,EAAQL,EAE5D,OACEkD,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAa,CACZC,IAAKjE,EACLkE,MAAO,CACLnD,MAAOrC,GAAcqC,EAAQC,EAAM,GAAAmD,OAAMR,GAAa,MAAO,QAC7DG,UAEFF,EAAAA,EAAAA,MAACQ,EAAAA,EAAwB,CAAAN,SAAA,CACtB3C,IACC4C,EAAAA,EAAAA,KAACM,EAAAA,EAAa,CAAAP,UACZC,EAAAA,EAAAA,KAACO,EAAAA,EAAM,OAIXV,EAAAA,EAAAA,MAACW,EAAAA,GAAQ,CAAAT,SAAA,EACPC,EAAAA,EAAAA,KAACS,EAAAA,GAAc,KACfT,EAAAA,EAAAA,KAACU,EAAAA,GAAuB,KACxBV,EAAAA,EAAAA,KAACW,EAAAA,GAAiB,CAChBC,UACGjF,GAA6B,UAAfI,GACdJ,GAA6B,SAAfI,EACX,WACA,GACLgE,UAEDC,EAAAA,EAAAA,KAACa,EAAAA,GAAY,CACXD,UACGjF,GAA6B,UAAfI,GACdJ,GAA6B,SAAfI,EACX,WACA,QAIViE,EAAAA,EAAAA,KAACc,EAAAA,GAAkB,CACjBF,UACEjF,GAA6B,YAAfI,EAA2B,WAAa,GACvDgE,UAEDC,EAAAA,EAAAA,KAACe,EAAAA,GAAc,CACbH,UACEjF,GAA6B,YAAfI,EAA2B,WAAa,QAI5DiE,EAAAA,EAAAA,KAACgB,EAAAA,EAAW,CACVC,SAAS,EACTC,OAAO,EACPC,UAAU,EACVC,OAAQ,CACNC,QAAS,CACPC,WAAY,CAAEC,IAAK,KAGvBpB,MAAO,CACLqB,QAAS,QACTC,SAAU,WACVC,IAAK,EACLC,KAAM,GAER3E,MAAM,OACNC,OAAO,QACP2E,IAAKpE,GAAMqE,kBAIfhC,EAAAA,EAAAA,MAACiC,EAAAA,GAAS,CAAA/B,SAAA,EACRC,EAAAA,EAAAA,KAAC+B,EAAAA,GAAS,CACRC,QAAS3C,GACTuB,UACEjF,GAA6B,gBAAfI,EAA+B,WAAa,GAC3DgE,UAEDC,EAAAA,EAAAA,KAACiC,EAAAA,GAAU,MAGZzE,GAAMqE,cACL7B,EAAAA,EAAAA,KAACkC,EAAAA,GAAO,CACNF,QAzGK,WACjBpH,GAAc,SAAAD,GAAU,OAAKA,CAAU,IAEnCa,EADJT,GAAgBI,EACI,SAAAI,GAAY,MAAI,MAAM,EACtB,SAAAA,GAAY,MAAI,EAAE,EACxC,EAqGcqF,UACEjF,GAA6B,cAAfI,EAA6B,WAAa,GACzDgE,UAEDC,EAAAA,EAAAA,KAACmC,EAAAA,GAAQ,OAIbnC,EAAAA,EAAAA,KAACoC,EAAAA,GAAU,CAACJ,QA5GA,WACpB5G,GAAiB,SAAAD,GAAa,OAAKA,CAAa,IAChDa,EAAe,IAEXR,EADJT,GAAgBJ,EACI,SAAAY,GAAY,MAAI,SAAS,EACzB,SAAAA,GAAY,MAAI,EAAE,EACxC,EAsG6CwE,UACjCC,EAAAA,EAAAA,KAACqC,EAAAA,GAAW,SAGf7E,GAAMqE,cAAgBrE,GAAMqE,YAAYlC,SAAS,WAC9CH,OAAOC,SAAS6C,QAAQ9E,GAAMqE,aAC9B,KACHrE,GAAMqE,aAAe5E,EAASD,IAC7BgD,EAAAA,EAAAA,KAACuC,EAAAA,GAAO,CACN3B,UAAWjG,EAAa,QAAU,SAClCwF,MACmB,SAAjB5E,EAA0B,CAAEiH,OAAQ,KAAQ,CAAEA,OAAQ,KACvDzC,UAEDC,EAAAA,EAAAA,KAAA,UACEyC,MAAM,OACNzF,MAAM,QACN0F,IAAG,uCAAAtC,OACD5C,GAAMqE,YAAYc,MAAM,uBAAuB,GAAE,kBAAAvC,OAClCb,SAKvBS,EAAAA,EAAAA,KAAC4C,EAAAA,EAAO,CACNtG,aAAcA,EACdC,cAAeA,EACfxB,aAAcA,EACdQ,aAAcA,KAGhByE,EAAAA,EAAAA,KAAC6C,EAAAA,EAAO,CACNvG,aAAcA,EACdnB,cAAeA,EACfI,aAAcA,EACduH,cAxIiB,SAAAC,GACzB/G,GAAe,SAAAgH,GAAE,OAAUD,CAAO,IAC7BpH,GACHC,GAAc,SAAAD,GAAU,OAAKA,CAAU,GAE3C,EAoIUsH,WAAY5D,GACZtE,aAAcA,SAInByC,GAAMqE,aAAe7E,EAAQC,IAC5B+C,EAAAA,EAAAA,KAACuC,EAAAA,GAAO,CACN3B,UAAWjG,EAAa,QAAU,SAClCwF,MAAwB,SAAjB5E,EAA0B,CAAEiH,OAAQ,KAAQ,CAAEA,OAAQ,KAAMzC,UAEnEC,EAAAA,EAAAA,KAAA,UACEyC,MAAM,OACNzF,MAAM,QACN0F,IAAG,uCAAAtC,OACD5C,GAAMqE,YAAYc,MAAM,uBAAuB,GAAE,kBAAAvC,OAClCb,UAM7B,C","sources":["pages/Trials/StreamTrialKids.jsx"],"sourcesContent":["import useSize from '@react-hook/size';\nimport axios from 'axios';\nimport { StreamsBackgroundWrapper } from 'components/BackgroundWrapper/BackgroundWrappers';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { LoaderWrapper } from 'components/SharedLayout/Loaders/Loader.styled';\nimport { Kahoots } from 'components/Stream/Kahoots/Kahoots';\nimport { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport {\n  ButtonBox,\n  ChatBox,\n  ChatBtn,\n  ChatLogo,\n  KahootBtn,\n  KahootLogo,\n  MoldingNoClick,\n  MoldingNoClickSecondary,\n  StreamSection,\n  SupportArrow,\n  SupportBtn,\n  SupportLogo,\n  SupportMarkerLeft,\n  SupportMarkerRight,\n  SupportPointer,\n  VideoBox,\n} from '../../components/Stream/Stream.styled';\nimport { Support } from 'components/Stream/Support/Support';\n\naxios.defaults.baseURL = 'https://aggregator-server.onrender.com';\n\nconst StreamTrialKids = () => {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isKahootOpen, setIsKahootOpen] = useState(false);\n  const [isSupportOpen, setIsSupportOpen] = useState(false);\n  const [isOpenedLast, setIsOpenedLast] = useState('');\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [animatedID, setAnimationID] = useState('');\n  // eslint-disable-next-line\n  const sectionEl = useRef();\n  const [sectionWidth, sectionHeight] = useSize(sectionEl);\n  const chatEl = useRef();\n  // eslint-disable-next-line\n  const [chatWidth, chatHeight] = useSize(chatEl);\n  // eslint-disable-next-line\n  const [width, height] = useSize(document.body);\n  const [isLoading, setIsLoading] = useState(false);\n  const [links, setLinks] = useState({});\n\n  const wakeupRequest = async () => {\n    try {\n      const wake = await axios.get('/');\n      console.log(wake.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    wakeupRequest();\n\n    const getLinksRequest = async () => {\n      try {\n        setIsLoading(isLoading => (isLoading = true));\n        setLinks((await axios.get('/links')).data);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLinksRequest();\n  }, []);\n\n  const toggleKahoot = e => {\n    setIsKahootOpen(isKahootOpen => !isKahootOpen);\n    isChatOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'kahoot')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleChat = () => {\n    setIsChatOpen(isChatOpen => !isChatOpen);\n    isKahootOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'chat')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleSupport = () => {\n    setIsSupportOpen(isSupportOpen => !isSupportOpen);\n    setAnimationID('');\n    isKahootOpen || isChatOpen\n      ? setIsOpenedLast(isOpenedLast => 'support')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const handleSupportClick = data_id => {\n    setAnimationID(id => (id = data_id));\n    if (!isAnimated) {\n      setIsAnimated(isAnimated => !isAnimated);\n    }\n  };\n  const embedDomain = window.location.host.includes('localhost')\n    ? 'localhost'\n    : window.location.host;\n\n  const videoBoxWidth =\n    chatWidth === 0 && width > height ? width - 300 : width - chatWidth;\n\n  return (\n    <>\n      <StreamSection\n        ref={sectionEl}\n        style={{\n          width: isChatOpen && width > height ? `${videoBoxWidth}px` : '100%',\n        }}\n      >\n        <StreamsBackgroundWrapper>\n          {isLoading && (\n            <LoaderWrapper>\n              <Loader />\n            </LoaderWrapper>\n          )}\n\n          <VideoBox>\n            <MoldingNoClick />\n            <MoldingNoClickSecondary />\n            <SupportMarkerLeft\n              className={\n                (isAnimated && animatedID === 'sound') ||\n                (isAnimated && animatedID === 'live')\n                  ? 'animated'\n                  : ''\n              }\n            >\n              <SupportArrow\n                className={\n                  (isAnimated && animatedID === 'sound') ||\n                  (isAnimated && animatedID === 'live')\n                    ? 'animated'\n                    : ''\n                }\n              />\n            </SupportMarkerLeft>\n            <SupportMarkerRight\n              className={\n                isAnimated && animatedID === 'quality' ? 'animated' : ''\n              }\n            >\n              <SupportPointer\n                className={\n                  isAnimated && animatedID === 'quality' ? 'animated' : ''\n                }\n              />\n            </SupportMarkerRight>\n            <ReactPlayer\n              playing={true}\n              muted={true}\n              controls={true}\n              config={{\n                youtube: {\n                  playerVars: { rel: 0 },\n                },\n              }}\n              style={{\n                display: 'block',\n                position: 'absolute',\n                top: 0,\n                left: 0,\n              }}\n              width=\"100%\"\n              height=\"100vh\"\n              url={links.trials_kids}\n            />\n          </VideoBox>\n\n          <ButtonBox>\n            <KahootBtn\n              onClick={toggleKahoot}\n              className={\n                isAnimated && animatedID === 'kahoot_open' ? 'animated' : ''\n              }\n            >\n              <KahootLogo />\n            </KahootBtn>\n\n            {links.trials_kids && (\n              <ChatBtn\n                onClick={toggleChat}\n                className={\n                  isAnimated && animatedID === 'chat_open' ? 'animated' : ''\n                }\n              >\n                <ChatLogo />\n              </ChatBtn>\n            )}\n\n            <SupportBtn onClick={toggleSupport}>\n              <SupportLogo />\n            </SupportBtn>\n          </ButtonBox>\n          {links.trials_kids && !links.trials_kids.includes('youtube')\n            ? window.location.replace(links.trials_kids)\n            : null}\n          {links.trials_kids && height > width && (\n            <ChatBox\n              className={isChatOpen ? 'shown' : 'hidden'}\n              style={\n                isOpenedLast === 'chat' ? { zIndex: '2' } : { zIndex: '1' }\n              }\n            >\n              <iframe\n                title=\"chat\"\n                width=\"350px\"\n                src={`https://www.youtube.com/live_chat?v=${\n                  links.trials_kids.match(/([a-zA-Z0-9_-]{11})/)[0]\n                }&embed_domain=${embedDomain}`}\n              ></iframe>\n            </ChatBox>\n          )}\n\n          <Kahoots\n            sectionWidth={sectionWidth}\n            sectionHeight={sectionHeight}\n            isKahootOpen={isKahootOpen}\n            isOpenedLast={isOpenedLast}\n          />\n\n          <Support\n            sectionWidth={sectionWidth}\n            isSupportOpen={isSupportOpen}\n            isOpenedLast={isOpenedLast}\n            handleSupport={handleSupportClick}\n            openKahoot={toggleKahoot}\n            isKahootOpen={isKahootOpen}\n          />\n        </StreamsBackgroundWrapper>\n      </StreamSection>\n      {links.trials_kids && width > height && (\n        <ChatBox\n          className={isChatOpen ? 'shown' : 'hidden'}\n          style={isOpenedLast === 'chat' ? { zIndex: '2' } : { zIndex: '1' }}\n        >\n          <iframe\n            title=\"chat\"\n            width=\"350px\"\n            src={`https://www.youtube.com/live_chat?v=${\n              links.trials_kids.match(/([a-zA-Z0-9_-]{11})/)[0]\n            }&embed_domain=${embedDomain}`}\n          ></iframe>\n        </ChatBox>\n      )}\n    </>\n  );\n};\n\nexport default StreamTrialKids;\n"],"names":["axios","_useState","useState","_useState2","_slicedToArray","isChatOpen","setIsChatOpen","_useState3","_useState4","isKahootOpen","setIsKahootOpen","_useState5","_useState6","isSupportOpen","setIsSupportOpen","_useState7","_useState8","isOpenedLast","setIsOpenedLast","_useState9","_useState10","isAnimated","setIsAnimated","_useState11","_useState12","animatedID","setAnimationID","sectionEl","useRef","_useSize","useSize","_useSize2","sectionWidth","sectionHeight","chatEl","_useSize3","_useSize4","chatWidth","_useSize5","document","body","_useSize6","width","height","_useState13","_useState14","isLoading","setIsLoading","_useState15","_useState16","links","setLinks","wakeupRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wake","wrap","_context","prev","next","sent","console","log","data","t0","stop","apply","arguments","useLayoutEffect","getLinksRequest","_ref2","_callee2","_context2","t1","t2","finish","toggleKahoot","e","embedDomain","window","location","host","includes","videoBoxWidth","_jsxs","_Fragment","children","_jsx","StreamSection","ref","style","concat","StreamsBackgroundWrapper","LoaderWrapper","Loader","VideoBox","MoldingNoClick","MoldingNoClickSecondary","SupportMarkerLeft","className","SupportArrow","SupportMarkerRight","SupportPointer","ReactPlayer","playing","muted","controls","config","youtube","playerVars","rel","display","position","top","left","url","trials_kids","ButtonBox","KahootBtn","onClick","KahootLogo","ChatBtn","ChatLogo","SupportBtn","SupportLogo","replace","ChatBox","zIndex","title","src","match","Kahoots","Support","handleSupport","data_id","id","openKahoot"],"sourceRoot":""}