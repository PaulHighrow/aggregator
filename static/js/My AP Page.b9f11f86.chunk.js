"use strict";(self.webpackChunkap_education_english=self.webpackChunkap_education_english||[]).push([[466],{7403:function(n,e,r){r.r(e),r.d(e,{default:function(){return g}});var t,a=r(4165),o=r(5861),s=r(9439),i=r(5294),l=r(1423),c=r(3109),u=r(5705),d=r(7102),p=r(2791),h=r(8007),m=r(168),f=r(5867).ZP.div(t||(t=(0,m.Z)(["\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  background-color: white;\n  position: absolute;\n  border-radius: 20px;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n"]))),v=r(184),x=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(f,{children:(0,v.jsx)("iframe",{id:"platform-window",title:"platform-pin",src:"https://online.ap.education/school/",width:"100%",height:"100%"})})})},g=function(){var n=(0,p.useState)(!1),e=(0,s.Z)(n,2),r=e[0],t=e[1];i.Z.defaults.baseURL="https://aggregator-server.onrender.com",(0,p.useEffect)((function(){document.title="My AP | AP Education";var n=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("token refresher"),n.prev=1,n.next=4,i.Z.post("/users/refresh",{mail:localStorage.getItem("mail")});case 4:e=n.sent,t((function(n){return!0})),console.log(e),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();n()}));var m=h.Ry().shape({mail:h.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u0443, \u0437\u0430 \u044f\u043a\u043e\u044e \u0432\u0438 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456 \u043d\u0430 \u043d\u0430\u0448\u0456\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456!"),password:h.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043d\u0430\u0448\u0443 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443!")}),f=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,o){var s,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o.resetForm,console.log(r),n.prev=2,n.next=5,i.Z.post("/users/login",e);case 5:l=n.sent,console.log(e),console.log(l),a=l.data.token,i.Z.defaults.headers.common.Authorization="Bearer ".concat(a),t((function(n){return!0})),localStorage.setItem("mail",e.mail),s(),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),console.error(n.t0);case 17:case"end":return n.stop()}var a}),n,null,[[2,14]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,v.jsx)(c.QU,{children:r?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(x,{})}):(0,v.jsx)(u.J9,{initialValues:{mail:"",password:""},onSubmit:f,validationSchema:m,children:(0,v.jsxs)(d.U0,{children:[(0,v.jsx)(c.Rq,{children:"\u041f\u0440\u0438\u0432\u0456\u0442! \u0426\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0410\u043b\u0435 \u044f\u043a\u0449\u043e \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438, \u0442\u043e \u0439 \u0434\u043e \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0442\u0435\u0436. \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443."}),(0,v.jsxs)(l.__,{children:[(0,v.jsx)(d.vD,{type:"text",name:"mail",placeholder:"Login"}),(0,v.jsx)(d.aC,{component:"p",name:"mail",type:"email"})]}),(0,v.jsxs)(l.__,{children:[(0,v.jsx)(d.vD,{type:"password",name:"password",placeholder:"Password"}),(0,v.jsx)(d.aC,{component:"p",name:"password"})]}),(0,v.jsx)(d.Gh,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})})})}}}]);
//# sourceMappingURL=My AP Page.b9f11f86.chunk.js.map