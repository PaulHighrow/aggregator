{"version":3,"file":"static/js/Kids trials page.ec89134e.chunk.js","mappings":"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","sources":["pages/Trials/StreamTrialKids.jsx"],"sourcesContent":["import useSize from '@react-hook/size';\nimport axios from 'axios';\nimport { StreamsBackgroundWrapper } from 'components/BackgroundWrapper/BackgroundWrappers';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { LoaderWrapper } from 'components/SharedLayout/Loaders/Loader.styled';\nimport { Kahoots } from 'components/Stream/Kahoots/Kahoots';\nimport { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport {\n  ButtonBox,\n  ChatBox,\n  ChatBtn,\n  ChatLogo,\n  KahootBtn,\n  KahootLogo,\n  StreamSection,\n  VideoBox,\n} from '../../components/Stream/Stream.styled';\n\naxios.defaults.baseURL = 'https://aggregator-server.onrender.com';\n\nconst StreamTrialKids = () => {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isKahootOpen, setIsKahootOpen] = useState(false);\n  const [isOpenedLast, setIsOpenedLast] = useState('');\n  // eslint-disable-next-line\n  const sectionEl = useRef();\n  const [sectionWidth, sectionHeight] = useSize(sectionEl);\n  const [isLoading, setIsLoading] = useState(false);\n  const [links, setLinks] = useState({});\n\n  const wakeupRequest = async () => {\n    try {\n      const wake = await axios.get('/');\n      console.log(wake.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    wakeupRequest();\n\n    const getLinksRequest = async () => {\n      try {\n        setIsLoading(isLoading => (isLoading = true));\n        setLinks((await axios.get('/links')).data);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLinksRequest();\n  }, []);\n\n  const toggleKahoot = e => {\n    setIsKahootOpen(isKahootOpen => !isKahootOpen);\n    isChatOpen\n      ? setIsOpenedLast(isOpenedLast => 'kahoot')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleChat = () => {\n    setIsChatOpen(isChatOpen => !isChatOpen);\n    isKahootOpen\n      ? setIsOpenedLast(isOpenedLast => 'chat')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const embedDomain = window.location.host.includes('localhost')\n    ? 'localhost'\n    : window.location.host;\n\n  return (\n    <StreamSection ref={sectionEl}>\n      <StreamsBackgroundWrapper>\n        {isLoading && (\n          <LoaderWrapper>\n            <Loader />\n          </LoaderWrapper>\n        )}\n      \n      <VideoBox>\n        <ReactPlayer\n          playing={true}\n          muted={true}\n          controls={true}\n          config={{\n            youtube: {\n              playerVars: { rel: 0 },\n            },\n          }}\n          style={{\n            display: 'block',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n          }}\n          width=\"100%\"\n          height=\"100vh\"\n          url={links.trials_kids}\n        />\n      </VideoBox>\n\n      <ButtonBox>\n        <KahootBtn onClick={toggleKahoot}>\n          <KahootLogo />\n        </KahootBtn>\n\n        {links.trials_kids && (\n          <ChatBtn onClick={toggleChat}>\n            <ChatLogo />\n          </ChatBtn>\n        )}\n      </ButtonBox>\n\n      {links.trials_kids && (\n        <ChatBox\n          className={isChatOpen ? 'shown' : 'hidden'}\n          style={isOpenedLast === 'chat' ? { zIndex: '1' } : { zIndex: '0' }}\n        >\n          <iframe\n            title=\"chat\"\n            width=\"350px\"\n            src={`https://www.youtube.com/live_chat?v=${\n              links.trials_kids.match(/([a-zA-Z0-9_-]{11})/)[0]\n            }&embed_domain=${embedDomain}`}\n          ></iframe>\n        </ChatBox>\n      )}\n\n      <Kahoots\n        sectionWidth={sectionWidth}\n        sectionHeight={sectionHeight}\n        isKahootOpen={isKahootOpen}\n        isOpenedLast={isOpenedLast}\n      />\n      </StreamsBackgroundWrapper>\n    </StreamSection>\n  );\n};\n\nexport default StreamTrialKids;"],"names":["axios","_useState","useState","_useState2","_slicedToArray","isChatOpen","setIsChatOpen","_useState3","_useState4","isKahootOpen","setIsKahootOpen","_useState5","_useState6","isOpenedLast","setIsOpenedLast","sectionEl","useRef","_useSize","useSize","_useSize2","sectionWidth","sectionHeight","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","links","setLinks","wakeupRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wake","wrap","_context","prev","next","sent","console","log","data","t0","stop","apply","arguments","useLayoutEffect","getLinksRequest","_ref2","_callee2","_context2","t1","t2","finish","embedDomain","window","location","host","includes","_jsx","StreamSection","ref","children","_jsxs","StreamsBackgroundWrapper","LoaderWrapper","Loader","VideoBox","ReactPlayer","playing","muted","controls","config","youtube","playerVars","rel","style","display","position","top","left","width","height","url","trials_kids","ButtonBox","KahootBtn","onClick","e","KahootLogo","ChatBtn","ChatLogo","ChatBox","className","zIndex","title","src","concat","match","Kahoots"],"sourceRoot":""}