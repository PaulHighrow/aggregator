{"version":3,"file":"static/js/English trials page.5753f6d1.chunk.js","mappings":"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","sources":["pages/Trials/StreamTrialEnglish.jsx"],"sourcesContent":["import useSize from '@react-hook/size';\nimport axios from 'axios';\nimport { StreamsBackgroundWrapper } from 'components/BackgroundWrapper/BackgroundWrappers';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { LoaderWrapper } from 'components/SharedLayout/Loaders/Loader.styled';\nimport { Kahoots } from 'components/Stream/Kahoots/Kahoots';\nimport { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport {\n  ButtonBox,\n  ChatBox,\n  ChatBtn,\n  ChatLogo,\n  KahootBtn,\n  KahootLogo,\n  MoldingNoClick,\n  MoldingNoClickSecondary,\n  StreamPlaceHolder,\n  StreamPlaceHolderText,\n  StreamSection,\n  SupportArrow,\n  SupportBtn,\n  SupportLogo,\n  SupportMarkerLeft,\n  SupportMarkerRight,\n  SupportPointer,\n  VideoBox,\n} from '../../components/Stream/Stream.styled';\nimport { Support } from 'components/Stream/Support/Support';\n\naxios.defaults.baseURL = 'https://aggregator-server.onrender.com';\n\nconst StreamTrialEnglish = () => {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isKahootOpen, setIsKahootOpen] = useState(false);\n  const [isSupportOpen, setIsSupportOpen] = useState(false);\n  const [isOpenedLast, setIsOpenedLast] = useState('');\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [animatedID, setAnimationID] = useState('');\n  const chatEl = useRef();\n  // eslint-disable-next-line\n  const [chatWidth, chatHeight] = useSize(chatEl);\n  const [width, height] = useSize(document.body);\n  const [isLoading, setIsLoading] = useState(false);\n  const [links, setLinks] = useState({});\n\n  const wakeupRequest = async () => {\n    try {\n      const wake = await axios.get('/');\n      console.log(wake.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    wakeupRequest();\n\n    const getLinksRequest = async () => {\n      try {\n        setIsLoading(isLoading => (isLoading = true));\n        setLinks((await axios.get('/links')).data);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLinksRequest();\n  }, []);\n\n  const toggleKahoot = e => {\n    setIsKahootOpen(isKahootOpen => !isKahootOpen);\n    isChatOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'kahoot')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleChat = () => {\n    setIsChatOpen(isChatOpen => !isChatOpen);\n    isKahootOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'chat')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleSupport = () => {\n    setIsSupportOpen(isSupportOpen => !isSupportOpen);\n    setAnimationID('');\n    isKahootOpen || isChatOpen\n      ? setIsOpenedLast(isOpenedLast => 'support')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const handleSupportClick = data_id => {\n    setAnimationID(id => (id = data_id));\n    if (!isAnimated) {\n      setIsAnimated(isAnimated => !isAnimated);\n    }\n  };\n  const embedDomain = window.location.host.includes('localhost')\n    ? 'localhost'\n    : window.location.host;\n\n  const videoBoxWidth =\n    chatWidth === 0 && width > height ? width - 300 : width - chatWidth;\n\n  return (\n    <>\n      {(links.trials === undefined || links.trials[0] < 10) && !isLoading ? (\n        <StreamPlaceHolder>\n          <StreamPlaceHolderText>\n            Поки що трансляції тут немає! <br />\n            Перевірте, чи правильно ви вказали адресу сторінки або спробуйте\n            пізніше.\n          </StreamPlaceHolderText>\n        </StreamPlaceHolder>\n      ) : (\n        <>\n          <StreamSection\n            style={{\n              width:\n                isChatOpen && width > height ? `${videoBoxWidth}px` : '100%',\n            }}\n          >\n            <StreamsBackgroundWrapper>\n              {isLoading && (\n                <LoaderWrapper>\n                  <Loader />\n                </LoaderWrapper>\n              )}\n\n              <VideoBox>\n                <MoldingNoClick />\n                <MoldingNoClickSecondary />\n                <SupportMarkerLeft\n                  className={\n                    (isAnimated && animatedID === 'sound') ||\n                    (isAnimated && animatedID === 'live')\n                      ? 'animated'\n                      : ''\n                  }\n                >\n                  <SupportArrow\n                    className={\n                      (isAnimated && animatedID === 'sound') ||\n                      (isAnimated && animatedID === 'live')\n                        ? 'animated'\n                        : ''\n                    }\n                  />\n                </SupportMarkerLeft>\n                <SupportMarkerRight\n                  className={\n                    isAnimated && animatedID === 'quality' ? 'animated' : ''\n                  }\n                >\n                  <SupportPointer\n                    className={\n                      isAnimated && animatedID === 'quality' ? 'animated' : ''\n                    }\n                  />\n                </SupportMarkerRight>\n                <ReactPlayer\n                  playing={true}\n                  muted={true}\n                  controls={true}\n                  config={{\n                    youtube: {\n                      playerVars: { rel: 0 },\n                    },\n                  }}\n                  style={{\n                    display: 'block',\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                  }}\n                  width=\"100%\"\n                  height=\"100vh\"\n                  url={links.trials}\n                />\n              </VideoBox>\n\n              <ButtonBox>\n                <KahootBtn\n                  onClick={toggleKahoot}\n                  className={\n                    isAnimated && animatedID === 'kahoot_open' ? 'animated' : ''\n                  }\n                >\n                  <KahootLogo />\n                </KahootBtn>\n\n                {links.trials && (\n                  <ChatBtn\n                    onClick={toggleChat}\n                    className={\n                      isAnimated && animatedID === 'chat_open' ? 'animated' : ''\n                    }\n                  >\n                    <ChatLogo />\n                  </ChatBtn>\n                )}\n\n                <SupportBtn onClick={toggleSupport}>\n                  <SupportLogo />\n                </SupportBtn>\n              </ButtonBox>\n              {links.trials &&\n              !links.trials.includes('youtube') &&\n              !links.trials.includes('youtu.be')\n                ? window.location.replace(links.trials)\n                : null}\n              {links.trials && height > width && (\n                <ChatBox\n                  className={isChatOpen ? 'shown' : 'hidden'}\n                  style={\n                    isOpenedLast === 'chat' ? { zIndex: '2' } : { zIndex: '1' }\n                  }\n                >\n                  <iframe\n                    title=\"chat\"\n                    width=\"350px\"\n                    src={`https://www.youtube.com/live_chat?v=${\n                      links.trials.match(/([a-zA-Z0-9_-]{11})/)[0]\n                    }&embed_domain=${embedDomain}`}\n                  ></iframe>\n                </ChatBox>\n              )}\n\n              <Kahoots\n                sectionWidth={width}\n                sectionHeight={height}\n                isKahootOpen={isKahootOpen}\n                isOpenedLast={isOpenedLast}\n              />\n\n              <Support\n                sectionWidth={width}\n                isSupportOpen={isSupportOpen}\n                isOpenedLast={isOpenedLast}\n                handleSupport={handleSupportClick}\n                openKahoot={toggleKahoot}\n                isKahootOpen={isKahootOpen}\n              />\n            </StreamsBackgroundWrapper>\n          </StreamSection>\n          {links.trials && width > height && (\n            <ChatBox\n              className={isChatOpen ? 'shown' : 'hidden'}\n              style={\n                isOpenedLast === 'chat' ? { zIndex: '2' } : { zIndex: '1' }\n              }\n            >\n              <iframe\n                title=\"chat\"\n                width=\"350px\"\n                src={`https://www.youtube.com/live_chat?v=${\n                  links.trials.match(/([a-zA-Z0-9_-]{11})/)[0]\n                }&embed_domain=${embedDomain}`}\n              ></iframe>\n            </ChatBox>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default StreamTrialEnglish;\n"],"names":["axios","_useState","useState","_useState2","_slicedToArray","isChatOpen","setIsChatOpen","_useState3","_useState4","isKahootOpen","setIsKahootOpen","_useState5","_useState6","isSupportOpen","setIsSupportOpen","_useState7","_useState8","isOpenedLast","setIsOpenedLast","_useState9","_useState10","isAnimated","setIsAnimated","_useState11","_useState12","animatedID","setAnimationID","chatEl","useRef","_useSize","useSize","_useSize2","chatWidth","_useSize3","document","body","_useSize4","width","height","_useState13","_useState14","isLoading","setIsLoading","_useState15","_useState16","links","setLinks","wakeupRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wake","wrap","_context","prev","next","sent","console","log","data","t0","stop","apply","arguments","useLayoutEffect","getLinksRequest","_ref2","_callee2","_context2","t1","t2","finish","toggleKahoot","e","embedDomain","window","location","host","includes","videoBoxWidth","_jsx","_Fragment","children","undefined","trials","StreamPlaceHolder","_jsxs","StreamPlaceHolderText","StreamSection","style","concat","StreamsBackgroundWrapper","LoaderWrapper","Loader","VideoBox","MoldingNoClick","MoldingNoClickSecondary","SupportMarkerLeft","className","SupportArrow","SupportMarkerRight","SupportPointer","ReactPlayer","playing","muted","controls","config","youtube","playerVars","rel","display","position","top","left","url","ButtonBox","KahootBtn","onClick","KahootLogo","ChatBtn","ChatLogo","SupportBtn","SupportLogo","replace","ChatBox","zIndex","title","src","match","Kahoots","sectionWidth","sectionHeight","Support","handleSupport","data_id","id","openKahoot"],"sourceRoot":""}