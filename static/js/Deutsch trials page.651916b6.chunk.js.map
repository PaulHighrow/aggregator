{"version":3,"file":"static/js/Deutsch trials page.651916b6.chunk.js","mappings":"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","sources":["pages/Trials/StreamTrialDeutsch.jsx"],"sourcesContent":["import useSize from '@react-hook/size';\nimport axios from 'axios';\nimport { StreamsBackgroundWrapper } from 'components/BackgroundWrapper/BackgroundWrappers';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { LoaderWrapper } from 'components/SharedLayout/Loaders/Loader.styled';\nimport { Kahoots } from 'components/Stream/Kahoots/Kahoots';\nimport { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport {\n  ButtonBox,\n  ChatBox,\n  ChatBtn,\n  ChatLogo,\n  KahootBtn,\n  KahootLogo,\n  StreamSection,\n  SupportBtn,\n  SupportLogo,\n  SupportMarkerLeft,\n  SupportMarkerRight,\n  VideoBox,\n} from '../../components/Stream/Stream.styled';\nimport { Support } from 'components/Stream/Support/Support';\n\naxios.defaults.baseURL = 'https://aggregator-server.onrender.com';\n\nconst StreamTrialDeutsch = () => {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [isKahootOpen, setIsKahootOpen] = useState(false);\n  const [isSupportOpen, setIsSupportOpen] = useState(false);\n  const [isOpenedLast, setIsOpenedLast] = useState('');\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [animatedID, setAnimationID] = useState('');\n  // eslint-disable-next-line\n  const sectionEl = useRef();\n  const [sectionWidth, sectionHeight] = useSize(sectionEl);\n  const [isLoading, setIsLoading] = useState(false);\n  const [links, setLinks] = useState({});\n\n  const wakeupRequest = async () => {\n    try {\n      const wake = await axios.get('/');\n      console.log(wake.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    wakeupRequest();\n\n    const getLinksRequest = async () => {\n      try {\n        setIsLoading(isLoading => (isLoading = true));\n        setLinks((await axios.get('/links')).data);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLinksRequest();\n  }, []);\n\n  const toggleKahoot = e => {\n    setIsKahootOpen(isKahootOpen => !isKahootOpen);\n    isChatOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'kahoot')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleChat = () => {\n    setIsChatOpen(isChatOpen => !isChatOpen);\n    isKahootOpen || isSupportOpen\n      ? setIsOpenedLast(isOpenedLast => 'chat')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const toggleSupport = () => {\n    setIsSupportOpen(isSupportOpen => !isSupportOpen);\n    setAnimationID('');\n    isKahootOpen || isChatOpen\n      ? setIsOpenedLast(isOpenedLast => 'support')\n      : setIsOpenedLast(isOpenedLast => '');\n  };\n  const handleSupportClick = data_id => {\n    setAnimationID(id => (id = data_id));\n    if (!isAnimated) {\n      setIsAnimated(isAnimated => !isAnimated);\n    }\n  };\n  const embedDomain = window.location.host.includes('localhost')\n    ? 'localhost'\n    : window.location.host;\n\n  return (\n    <StreamSection ref={sectionEl}>\n      <StreamsBackgroundWrapper>\n        {isLoading && (\n          <LoaderWrapper>\n            <Loader />\n          </LoaderWrapper>\n        )}\n\n        <VideoBox>\n          <SupportMarkerLeft\n            className={\n              (isAnimated && animatedID === 'sound') ||\n              (isAnimated && animatedID === 'live')\n                ? 'animated'\n                : ''\n            }\n          />{' '}\n          <SupportMarkerRight\n            className={isAnimated && animatedID === 'quality' ? 'animated' : ''}\n          />\n          <ReactPlayer\n            playing={true}\n            muted={true}\n            controls={true}\n            config={{\n              youtube: {\n                playerVars: { rel: 0 },\n              },\n            }}\n            style={{\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n            }}\n            width=\"100%\"\n            height=\"100vh\"\n            url={links.trials_de}\n          />\n        </VideoBox>\n\n        <ButtonBox>\n          <KahootBtn\n            onClick={toggleKahoot}\n            className={\n              isAnimated && animatedID === 'kahoot_open' ? 'animated' : ''\n            }\n          >\n            <KahootLogo />\n          </KahootBtn>\n\n          {links.trials_de && (\n            <ChatBtn\n              onClick={toggleChat}\n              className={\n                isAnimated && animatedID === 'chat_open' ? 'animated' : ''\n              }\n            >\n              <ChatLogo />\n            </ChatBtn>\n          )}\n\n          <SupportBtn onClick={toggleSupport}>\n            <SupportLogo />\n          </SupportBtn>\n        </ButtonBox>\n        {links.trials_de && !links.trials_de.includes('youtube')\n          ? window.location.replace(links.trials_de)\n          : null}\n        {links.trials_de && (\n          <ChatBox\n            className={isChatOpen ? 'shown' : 'hidden'}\n            style={isOpenedLast === 'chat' ? { zIndex: '1' } : { zIndex: '0' }}\n          >\n            <iframe\n              title=\"chat\"\n              width=\"350px\"\n              src={`https://www.youtube.com/live_chat?v=${\n                links.trials_de.match(/([a-zA-Z0-9_-]{11})/)[0]\n              }&embed_domain=${embedDomain}`}\n            ></iframe>\n          </ChatBox>\n        )}\n\n        <Kahoots\n          sectionWidth={sectionWidth}\n          sectionHeight={sectionHeight}\n          isKahootOpen={isKahootOpen}\n          isOpenedLast={isOpenedLast}\n        />\n\n        <Support\n          sectionWidth={sectionWidth}\n          isSupportOpen={isSupportOpen}\n          isOpenedLast={isOpenedLast}\n          handleSupport={handleSupportClick}\n          openKahoot={toggleKahoot}\n          isKahootOpen={isKahootOpen}\n        />\n      </StreamsBackgroundWrapper>\n    </StreamSection>\n  );\n};\n\nexport default StreamTrialDeutsch;\n"],"names":["axios","_useState","useState","_useState2","_slicedToArray","isChatOpen","setIsChatOpen","_useState3","_useState4","isKahootOpen","setIsKahootOpen","_useState5","_useState6","isSupportOpen","setIsSupportOpen","_useState7","_useState8","isOpenedLast","setIsOpenedLast","_useState9","_useState10","isAnimated","setIsAnimated","_useState11","_useState12","animatedID","setAnimationID","sectionEl","useRef","_useSize","useSize","_useSize2","sectionWidth","sectionHeight","_useState13","_useState14","isLoading","setIsLoading","_useState15","_useState16","links","setLinks","wakeupRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wake","wrap","_context","prev","next","sent","console","log","data","t0","stop","apply","arguments","useLayoutEffect","getLinksRequest","_ref2","_callee2","_context2","t1","t2","finish","toggleKahoot","e","embedDomain","window","location","host","includes","_jsx","StreamSection","ref","children","_jsxs","StreamsBackgroundWrapper","LoaderWrapper","Loader","VideoBox","SupportMarkerLeft","className","SupportMarkerRight","ReactPlayer","playing","muted","controls","config","youtube","playerVars","rel","style","display","position","top","left","width","height","url","trials_de","ButtonBox","KahootBtn","onClick","KahootLogo","ChatBtn","ChatLogo","SupportBtn","SupportLogo","replace","ChatBox","zIndex","title","src","concat","match","Kahoots","Support","handleSupport","data_id","id","openKahoot"],"sourceRoot":""}